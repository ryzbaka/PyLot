(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{128:function(e,t){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),o=a.n(s),c=(a(80),a(5)),l=a(7),i=Object(n.createContext)([["Signed Out","None","None"],function(){}]),m=function(e){var t=e.options,a=e.links,s=e.home,o=Object(n.useContext)(i),m=Object(c.a)(o,2),u=m[0];m[1];return"Signed Out"!==u[0]&&s?r.a.createElement("div",{className:"side-container-content"},r.a.createElement(l.a,{to:"/logout",style:{textDecoration:"none",color:"white"}},r.a.createElement("p",null,"Logout"))):r.a.createElement("div",{className:"side-container-content"},t.map((function(e,t){return r.a.createElement(l.a,{key:t,to:a[t],style:{textDecoration:"none",color:"white"}},r.a.createElement("p",{key:t},e))})))},u=a(12),d=a(13),p=a(16),h=a(15),v=a(14),f=a.n(v),E=a(158),b=a(159),g=a(165),N=a(161),O=a(160),x=a(162),w=a(67),k=a.n(w),j=a(157),y=a(66),S=a.n(y),C=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={username:e.props.username,password:e.props.password,servers:[],loading:!0},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.post("/users/getservers",{username:this.state.username,password:this.state.password}).then((function(t){var a=t.data;e.setState({servers:a,loading:!1})}))}},{key:"render",value:function(){var e=this;if(this.state.loading)return r.a.createElement("div",{className:"serverDetailsPageMainContainer"},r.a.createElement(j.a,null));var t=this.state.servers;return r.a.createElement("div",{className:"server-page-container"},r.a.createElement("div",{className:"server-page-controls"},r.a.createElement("h2",null,this.state.username,"'s Servers"),r.a.createElement(E.a,{variant:"contained",color:"seagreen",startIcon:r.a.createElement(S.a,null),onClick:function(){Object(l.c)("/addServer")}},"Add Server")),r.a.createElement("div",{className:"servers-container"},r.a.createElement(b.a,null,t.map((function(t,a){var n=t.serverName,s=t.ipAddr,o=(t.sshKey,t.user),c=t.password;return r.a.createElement(l.a,{key:a,to:"/serverDetails/".concat(e.state.username,"/").concat(n,"/").concat(s,"/").concat(o,"/").concat(c),style:{textDecoration:"none",color:"white"}},r.a.createElement(g.a,{button:!0},r.a.createElement(O.a,null,r.a.createElement(k.a,null)),r.a.createElement(N.a,{primary:n,secondary:"".concat(o," | ").concat(s)})),r.a.createElement(x.a,null))})))))}}]),a}(n.Component),P=function(){var e=Object(n.useContext)(i),t=Object(c.a)(e,2),a=t[0];t[1];return"Signed Out"===a[0]?r.a.createElement("div",{className:"banner-container"},r.a.createElement("img",{src:"https://i.ibb.co/27hZ9sY/image.png",alt:"banner",border:"0"}),r.a.createElement("p",{className:"flow-text"},"A web based IDE for writing and scheduling ETL pipelines in Python")):r.a.createElement(C,{status:a[0],username:a[1],password:a[2]})},R=function(){return r.a.createElement("div",null,"About")},A=function(){var e=Object(n.useState)("username"),t=Object(c.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)("*******"),m=Object(c.a)(o,2),u=m[0],d=m[1],p=Object(n.useContext)(i),h=Object(c.a)(p,2),v=(h[0],h[1]);return r.a.createElement("div",{className:"form-page-container"},r.a.createElement("div",{className:"form-container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){if(""===a||""===u)alert("Form missing information.");else{var e={username:a,password:u};f.a.post("/users/signin",e).then((function(e){"Authentication Successful"===e.data?(v(["Signed In",a,u]),Object(l.c)("/")):alert("Authentication failed.")}))}}()}},r.a.createElement("label",{htmlFor:"username",className:"teal-text text-accent-3"},"Username",r.a.createElement("input",{id:"username",onChange:function(e){return s(e.target.value)},className:"teal-text text-accent-3"})),r.a.createElement("label",{htmlFor:"password",className:"teal-text text-accent-3"},"Password",r.a.createElement("input",{id:"password",type:"password",onChange:function(e){return d(e.target.value)},className:"teal-text text-accent-3"})),r.a.createElement("button",{className:"teal white-text accent-3"},"submit"),r.a.createElement(l.a,{to:"/signup",style:{textDecoration:"none",color:"#4c5357"}},r.a.createElement("span",{className:"teal-text text-accent-3"},"Sign Up")))))},D=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)(""),l=Object(c.a)(o,2),i=l[0],m=l[1],u=Object(n.useState)(""),d=Object(c.a)(u,2),p=d[0],h=d[1],v=Object(n.useState)(""),E=Object(c.a)(v,2),b=E[0],g=E[1],N=Object(n.useState)(""),O=Object(c.a)(N,2),x=O[0],w=O[1],k=Object(n.useState)(""),j=Object(c.a)(k,2),y=j[0],S=j[1];return r.a.createElement("div",{className:"form-container"},r.a.createElement("form",{id:"sign-up-form",onSubmit:function(e){e.preventDefault(),function(){if(i!==p)alert("Passwords do not match.");else{for(var e=document.getElementById("sign-up-form").elements,t=0;t<e.length-1;t++)if(""===e[t].value)return alert("Form incomplete!"),0;var n={firstName:x,lastName:y,username:a,password:i,email:b,servers:[]};console.log("sending post request"),f.a.post("/users/signup",n).then((function(e){return alert(e.data)}))}}()}},r.a.createElement("label",{htmlFor:"first-name",className:"teal-text text-accent-3"},"First Name",r.a.createElement("input",{id:"first-name",value:x,placeholder:"First Name",onChange:function(e){return w(e.target.value)},className:"teal-text text-accent-3"})),r.a.createElement("label",{htmlFor:"last-name",className:"teal-text text-accent-3"},"Last Name",r.a.createElement("input",{id:"last-name",value:y,placeholder:"Last Name",onChange:function(e){return S(e.target.value)},className:"teal-text text-accent-3"})),r.a.createElement("label",{htmlFor:"username",className:"teal-text text-accent-3"},"Username",r.a.createElement("input",{id:"username",value:a,placeholder:"username",onChange:function(e){return s(e.target.value)},className:"teal-text text-accent-3"})),r.a.createElement("label",{htmlFor:"email",className:"teal-text text-accent-3"},"E-mail",r.a.createElement("input",{id:"email",value:b,placeholder:"email",onChange:function(e){return g(e.target.value)},className:"teal-text text-accent-3"})),r.a.createElement("label",{htmlFor:"password",className:"teal-text text-accent-3"},"Password",r.a.createElement("input",{id:"password",placeholder:"password",type:"password",value:i,onChange:function(e){return m(e.target.value)},className:"teal-text text-accent-3"})),r.a.createElement("label",{htmlFor:"password2",className:"teal-text text-accent-3"},"Re-Type Password",r.a.createElement("input",{id:"password2",placeholder:"retype password",type:"password",value:p,onChange:function(e){return h(e.target.value)},className:"teal-text text-accent-3"})),r.a.createElement("button",{className:"teal accent-3"},r.a.createElement("span",{className:"white-text"},"submit"))))},H=a(164),T=a(163),U=a(33),F=a(22),I=a.n(F);var L=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={password:n.props.serverPassword,user:n.props.serverUser,username:n.props.username,serverName:n.props.serverName,ipAddr:n.props.ipAddr,columnNames:[],loading:!1,socketRunning:!1,data:{uptime:"\ud83e\udd37\u200d",operatingSystem:"\ud83e\udd37\u200d\u2642\ufe0f",memoryUsedPercent:"\ud83e\udd37\u200d",cpuUsage:"\ud83e\udd37\u200d\u2642\ufe0f"}},function(e,t){var a=I()("http://".concat(e,":5000/"));a.emit("get-health",window.location.href),a.on("send-health",(function(e){return t(null,e)}))}(n.state.ipAddr,(function(e,t){n.setState({data:t,socketRunning:!0})})),n}return Object(d.a)(a,[{key:"render",value:function(){if(this.state.loading)return r.a.createElement("div",{className:"serverDetailsPageMainContainer "},r.a.createElement(j.a,null));var e=this.state,t=e.serverName,a=e.username,n=e.socketRunning;this.state.ipAddr,this.state.health;return r.a.createElement(H.a,{style:{maxHeight:"30%",minHeight:"50%"}},r.a.createElement(T.a,null,r.a.createElement(U.a,{variant:"h5"},this.state.serverName),r.a.createElement(U.a,null,this.state.data.operatingSystem),r.a.createElement(U.a,null,"User: ",this.state.user),r.a.createElement(U.a,null,"Uptime: ",this.state.data.uptime),r.a.createElement(U.a,null,this.state.data.cpuUsage,"\ud83d\udcbb"),r.a.createElement(U.a,null,"Memory Usage: ",this.state.data.memoryUsedPercent,"\ud83d\udc0f"),r.a.createElement(U.a,null,this.state.socketRunning?"Health Reporting Service is online \ud83e\ude7a":"Health reporting service is offline on remote server \ud83d\ude22"),r.a.createElement("p",{className:"waves-effect btn remove-server teal accent-3",onClick:function(){var e=prompt("Please enter name of the server to continue server deletion.");e===t?f.a.post("/users/removeserver",{username:a,serverName:e}).then((function(e){e.data==="Server : ".concat(t," was deleted successfully.")?(alert("Server deleted successfully."),Object(l.c)("/")):alert("Failed to delete server.[Internal Issue]")})):alert("Did not delete server.")}},"REMOVE SERVER"),r.a.createElement("p",{className:"waves-effect btn remove-server teal accent-3",onClick:function(){if(n)alert("Health reporting service already running on remote server.");else{var e={username:a,serverName:t};f.a.post("/health/setupserver",e).then((function(e){console.log(e),alert("Done.")}))}}},"Setup Health Reporting Service"),r.a.createElement("p",{className:"waves-effect btn remove-server teal accent-3",onClick:function(){Object(l.c)("/terminal/".concat(a,"/").concat(t))}},"Open Terminal"),r.a.createElement("p",{className:"waves-effect btn remove-server teal accent-3",onClick:function(){Object(l.c)("/notebook")}},"Open Notebook")))}}]),a}(n.Component),W=function(){var e=Object(n.useContext)(i),t=Object(c.a)(e,2),a=t[0],s=t[1];return"Signed In"===a[0]?(s(["Signed Out","None","None"]),Object(l.c)("/"),r.a.createElement("h1",null,"Signing out")):r.a.createElement("h1",null,"Signed Out")},M=function(){var e=Object(n.useContext)(i),t=Object(c.a)(e,2),a=t[0],s=(t[1],Object(n.useState)("")),o=Object(c.a)(s,2),m=o[0],u=o[1],d=Object(n.useState)(""),p=Object(c.a)(d,2),h=p[0],v=p[1],E=Object(n.useState)(!1),b=Object(c.a)(E,2),g=(b[0],b[1],Object(n.useState)("")),N=Object(c.a)(g,2),O=N[0],x=N[1],w=Object(n.useState)(""),k=Object(c.a)(w,2),j=k[0],y=k[1];return r.a.createElement("div",{className:"form-container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){var e={username:a[1],serverName:m,ipAddr:h,sshKey:!1,user:j,password:O};f.a.post("/users/addserver",e).then((function(e){"Added server."===e.data?Object(l.c)("/"):alert("An error ocurred")}))}()}},r.a.createElement("label",{htmlFor:"serverName",className:"teal-text text-accent-3"},"Server Name",r.a.createElement("input",{id:"serverName",onChange:function(e){return u(e.target.value)},className:"teal-text text-accent-3"})),r.a.createElement("label",{htmlFor:"ipAddress",className:"teal-text text-accent-3"},"IP Address",r.a.createElement("input",{id:"ipAddress",onChange:function(e){return v(e.target.value)},className:"teal-text text-accent-3"})),r.a.createElement("label",{htmlFor:"serverUser",className:"teal-text text-accent-3"},"User account on server",r.a.createElement("input",{id:"serverUser",onChange:function(e){return y(e.target.value)},className:"teal-text text-accent-3"})),r.a.createElement("label",{htmlFor:"serverPassword",className:"teal-text text-accent-3"},"Password for server user account",r.a.createElement("input",{id:"serverPassword",onChange:function(e){return x(e.target.value)},className:"teal-text text-accent-3"})),r.a.createElement("button",{className:"teal accent-3"},r.a.createElement("span",{className:"white-text"},"submit"))))};var q=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={data:"No data received from websocket"},function(e,t){var a=I()("http://".concat(e,":5000"));a.emit("get-health",null),a.on("send-health",(function(e){return t(null,e)}))}("167.71.237.73",(function(e,t){n.setState({data:t})})),n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Socket Test"),r.a.createElement("h2",null,"Socket data:",JSON.stringify(this.state.data)))}}]),a}(n.Component),Y=a(68),B=a.n(Y),J=function(e){var t,a="None",n=document.querySelector("#add-tile-button"),r=document.querySelector("#remove-tile-button"),s=document.querySelector("#set-output-button"),o=document.querySelector("#save-notebook"),c=e.windowWidth/1.12,l=e.windowHeight/1.7,i=function(){function t(e,a,n){Object(u.a)(this,t),this.information={name:e,canvasWidth:a,canvasHeight:n,xPos:a/2,yPos:n/2,tileWidth:a/10,tileHeight:n/10,outputs:[]}}return Object(d.a)(t,[{key:"addOutput",value:function(e){this.information.outputs.push(e)}},{key:"removeOutput",value:function(e){for(var t=0;t<this.information.outputs.length;t++)this.information.outputs[t].information.name===e&&this.information.outputs.splice(t,1)}},{key:"flushOutput",value:function(){this.information.outputs=[]}},{key:"show",value:function(){if(e.mouseIsPressed&&("None"===a||a===this.information.name)){var t=this.information,n=t.tileWidth,r=t.tileHeight,s=t.xPos,o=t.yPos,c=s-n/2,l=s+n/2,i=o+r/2,m=o-r/2;e.mouseX>c&&e.mouseX<l&&e.mouseY<i&&e.mouseY>m&&(a=this.information.name,this.information.xPos=e.mouseX,this.information.yPos=e.mouseY,e.strokeWeight(5),e.stroke("green"))}var u=this.information,d=u.name,p=u.xPos,h=u.yPos,v=(u.canvasWidth,u.canvasHeight,u.tileWidth),f=u.tileHeight;e.rectMode(e.CENTER),e.fill("#42f5bf"),e.rect(p,h,v,f),e.stroke("black"),e.strokeWeight(1),e.text(d,p-20,h),e.point(p,h);var E=this.information.outputs;e.stroke("white"),E.length>0&&E.forEach((function(t,a){e.line(p+v/2,h,t.information.xPos-v/2,t.information.yPos)}))}}]),t}(),m=function(){function e(){Object(u.a)(this,e),this.name="Untitled-Notebook",this.tiles=[],this.tileNames=[]}return Object(d.a)(e,[{key:"addTile",value:function(e,t,a){if(this.tileNames.includes(e))alert("Tile already exists, cannot create tile.");else{var n=new i(e,t,a);this.tiles.push(n),this.tileNames.push(e)}}},{key:"display",value:function(){this.tiles.forEach((function(e,t){e.show()}))}},{key:"setOutput",value:function(e,t){for(var a,n,r=0;r<this.tiles.length;r++)this.tiles[r].information.name===e?a=this.tiles[r]:this.tiles[r].information.name===t&&(n=this.tiles[r]);a.addOutput(n)}},{key:"removeTile",value:function(e){if(this.tileNames.includes(e)){this.tiles.forEach((function(t,a){t.removeOutput(e)}));for(var t=0;t<this.tiles.length;t++)if(this.tiles[t].information.name===e){this.tiles[t].flushOutput(),this.tiles.splice(t,1),this.tileNames.splice(t,1);break}}else alert("Tile does not exist.")}}]),e}();n.addEventListener("click",(function(){var e=prompt();t.addTile(e,c,l)})),r.addEventListener("click",(function(){var e=prompt();t.removeTile(e,c,l)})),s.addEventListener("click",(function(){var e=prompt("Enter name of input tile:"),a=prompt("Enter name of output tile:");t.tileNames.includes(e)&&t.tileNames.includes(a)?t.setOutput(e,a):alert("One of the two tile names entered does not exist.")})),o.addEventListener("click",(function(){for(;"Untitled-Notebook"===t.name||null==t.name;){var e=prompt("Please enter name for notebook:");t.name=e}console.log(t)})),e.setup=function(){e.createCanvas(c,l),e.background("grey")},e.mouseReleased=function(){a="None"},e.draw=function(){e.background(220),t.display()},t=new m},K=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"notebook-container"},r.a.createElement("h3",{className:"teal-text text-accent-3"},"Notebook"),r.a.createElement("button",{id:"add-tile-button"},"Add tile"),r.a.createElement("button",{id:"remove-tile-button"},"Remove tile"),r.a.createElement("button",{id:"set-output-button"},"Set Output"),r.a.createElement("button",{id:"save-notebook"},"Save Notebook"),r.a.createElement(B.a,{sketch:J}),r.a.createElement("div",{className:"tile-info"},r.a.createElement("p",{id:"tile-name"}),r.a.createElement("p",null)))}}]),a}(n.Component),X=a(69),V=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).xtermRef=r.a.createRef(),n.state={command:"",username:n.props.username,serverName:n.props.serverName},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.xtermRef.current.terminal.writeln("Welcome to PyLot terminal"),f.a.post("/getIp",{username:this.state.username,serverName:this.state.serverName}).then((function(t){var a=t.data;if(console.log(a),"string"===typeof a){var n=I()("http://".concat(a,":5000/"));e.state.socket=n,n.on("connect",(function(){e.writeToTerminal("\x1b[1;1;32m***Connected to PyLot terminal runtime \u2708 ***\x1b[0m \n\r")})),n.on("disconnect",(function(){e.writeToTerminal("\x1b[1;3;31m***Disconnected from PyLot terminal runtime \u2620 ***\x1b[0m \n\r")})),n.on("send-output",(function(t){e.xtermRef.current.terminal.write(t)}))}else alert(a.message)}))}},{key:"writeToTerminal",value:function(e){this.xtermRef.current.terminal.writeln("\n\r"+e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"terminal-container"},r.a.createElement(X.a,{ref:this.xtermRef,onKey:function(t){var a=t.key;"Enter"===t.domEvent.code?(console.log(e.state),e.xtermRef.current.terminal.writeln(""),e.state.socket.emit("run-command",e.state.command),e.state.command=""):(e.state.command+=a,e.xtermRef.current.terminal.write(a))}}))}}]),a}(n.Component);V.contextType=i;var Z=V,$=function(){var e=Object(n.useState)(["Signed Out","None","None"]),t=Object(n.useContext)(i),a=Object(c.a)(t,2);a[0],a[1];return r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.Provider,{value:e},r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"side-container"},r.a.createElement(l.b,null,r.a.createElement(m,{options:["Home","Sign In"],links:["/","/signupin"],path:"/signup"}),r.a.createElement(m,{options:["Home"],links:["/"],path:"/signupin"}),r.a.createElement(m,{options:["Sign Up / Sign In"],links:["/signupin"],home:!0,path:"/"}),r.a.createElement(m,{options:["Home"],links:["/"],path:"/serverDetails/*"}),r.a.createElement(m,{options:["Home"],links:["/"],path:"/addServer"}),r.a.createElement(m,{options:["Home"],links:["/"],path:"/notebook"}),r.a.createElement(m,{options:["Home"],links:["/"],path:"/terminal/*"}))),r.a.createElement("div",{className:"nested-main-container"},r.a.createElement(l.b,null,r.a.createElement(P,{path:"/"}),r.a.createElement(R,{path:"/about"}),r.a.createElement(A,{path:"/signupin"}),r.a.createElement(D,{path:"/signup"}),r.a.createElement(L,{path:"/serverDetails/:username/:serverName/:ipAddr/:serverUser/:serverPassword"}),r.a.createElement(W,{path:"/logout"}),r.a.createElement(M,{path:"/addServer"}),r.a.createElement(q,{path:"/testSocket"}),r.a.createElement(K,{path:"/notebook"}),r.a.createElement(Z,{path:"/terminal/:username/:serverName"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,t,a){e.exports=a(134)},80:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.196cff52.chunk.js.map